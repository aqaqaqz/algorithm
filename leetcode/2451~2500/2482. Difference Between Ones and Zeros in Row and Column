class Solution {
public:
    vector<vector<int>> onesMinusZeros(vector<vector<int>>& grid) {
        vector<vector<int>> result;
        vector<int> rowOneCount(grid.size());
        vector<int> colOneCount(grid[0].size());

        for(int h=0;h<grid.size();h++){
            for(int w=0;w<grid[0].size();w++){
                rowOneCount[h] += grid[h][w];
                colOneCount[w] += grid[h][w];
            }
        }

        for(int h=0;h<grid.size();h++){
            vector<int> temp;
            for(int w=0;w<grid[0].size();w++){
                int roc = rowOneCount[h];
                int coc = colOneCount[w];
                int rzc = grid.size() - roc;
                int czc = grid[0].size() - coc;
                temp.push_back(roc + coc - rzc - czc);
            }
            result.push_back(temp);
        }

        return result;
    }
};